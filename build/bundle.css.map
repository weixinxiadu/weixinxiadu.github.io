{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../../App.svelte"
  ],
  "sourcesContent": [
    "<script>\n\timport {onMount} from 'svelte';\n\tconst numBooks = 9;\n\tlet books = [];\n\tasync function fetchJson(url) {\n\t\tlet response = await fetch(url);\n\t\treturn await response.json();\n\t}\n\tonMount(async () => {\n\t\tlet metadata = await fetchJson(\"public/data/meta.json\");\n\t\tlet totalBooks = Object.values(metadata).reduce((a, b) => a + b);\n\t\tlet bookIds = new Set();\n\t\twhile (bookIds.size < numBooks) {\n\t\t\tbookIds.add(Math.floor(Math.random() * totalBooks));\n\t\t}\n\t\tbookIds = [...bookIds].sort((a, b) => a - b);\n\t\tconsole.log(bookIds);\n\t\tlet currentCount = 0;\n\t\tfor (let category in metadata) {\n\t\t\tlet count = metadata[category];\n\t\t\tif (bookIds.length == 0) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (currentCount + count > bookIds[0]) {\n\t\t\t\tlet data = await fetchJson(`public/data/${category}.json`)\n\t\t\t\twhile (bookIds.length > 0 && currentCount + count > bookIds[0]) {\n\t\t\t\t\tbooks = [...books, data[bookIds[0] - currentCount]];\n\t\t\t\t\tbookIds = bookIds.slice(1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tcurrentCount += count;\n\t\t}\n\t});\n</script>\n\n<main>\n<h1>瞎读</h1>\n<div class=\"content\">\n{#each books as book}\n\t<div class=\"book\">\n\t\t<a href={book.bookUrl}>\n\t\t\t<img src={book.cover} alt={book.title}/>\n\t\t\t<p class=\"title\">{book.title}</p>\n\t\t</a>\n\t\t<p class=\"author\">作者: {book.author}</p>\n\t</div>\n{/each}\n</div>\n</main>\n\n<style>\n\tmain {\n\t\tmargin: 0 auto;\n\t\ttext-align: center;\n\t\tmax-width: 720px;\n\t}\n\t.content {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: repeat(auto-fill, minmax(240px, 1fr) );\n\t}\n\t.book {\n\t\tpadding: 12px;\n\t}\n\t.title {\n\t\tmargin-bottom: 0px;\n\t}\n\t.author {\n\t\tmargin-top: 5px;\n\t\tfont-size: 10px;\n\t}\n</style>"
  ],
  "names": [],
  "mappings": "AAmDC,IAAI,cAAC,CAAC,AACL,MAAM,CAAE,CAAC,CAAC,IAAI,CACd,UAAU,CAAE,MAAM,CAClB,SAAS,CAAE,KAAK,AACjB,CAAC,AACD,QAAQ,cAAC,CAAC,AACT,OAAO,CAAE,IAAI,CACb,qBAAqB,CAAE,OAAO,SAAS,CAAC,CAAC,OAAO,KAAK,CAAC,CAAC,GAAG,CAAC,EAAE,AAC9D,CAAC,AACD,KAAK,cAAC,CAAC,AACN,OAAO,CAAE,IAAI,AACd,CAAC,AACD,MAAM,cAAC,CAAC,AACP,aAAa,CAAE,GAAG,AACnB,CAAC,AACD,OAAO,cAAC,CAAC,AACR,UAAU,CAAE,GAAG,CACf,SAAS,CAAE,IAAI,AAChB,CAAC"
}